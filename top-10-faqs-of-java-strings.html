<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <title>[Java基础] Top 10 questions of Java Strings - OK Computer</title>
  <meta name="description" content="杨丁苗的个人博客">
  <meta name="author" content="ZoeyYoung">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
  <!--[if lt IE 9]>
  <script src="http://zoeyyoung.github.io/theme/html5.js"></script>
  <![endif]-->
  <!-- Le styles -->
  <link href="//netdna.bootstrapcdn.com/bootswatch/3.0.0/journal/bootstrap.min.css" rel="stylesheet" media="screen">
  <link href="http://zoeyyoung.github.io/theme/print.css" rel="stylesheet" media="print" />
  <link href="http://zoeyyoung.github.io/theme/local.css" rel="stylesheet" media="screen" />
  <link href="http://zoeyyoung.github.io/theme/pygments.css" rel="stylesheet" />
  <link href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet" />
  <!--[if IE 7]>
  <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome-ie7.min.css" rel="stylesheet" />
  <![endif]-->
  <script type="text/javascript" src="http://tajs.qq.com/stats?sId=27017681" charset="UTF-8"></script>
</head>
<body>
  <div class="container">
    <div class="row">
      <div id="header" class="col-md-2 no-print">
        <div class="brand-wrapper">
          <a href="http://zoeyyoung.github.io" class="navbar-brand">OK Computer</a>
          <p style="text-align: center; font-size: 12px; margin-top: 0;">It's better to burn out <br/> than to fade away.</p>
        </div>
        <ul id="blog-nav" class="nav">
          <li>SITE</li>
          <li><a href="http://zoeyyoung.github.io">首页</a></li>
          <li><a href="http://zoeyyoung.github.io/archives.html">归档</a></li>
          <li><a href="http://zoeyyoung.github.io/tags.html">标签</a></li>
          <li><hr/></li>
          <li>CATEGORIES</li>
                    <li >
            <a href="http://zoeyyoung.github.io/category/cc.html ">C&C++</a>
          </li>
                    <li  class="active" >
            <a href="http://zoeyyoung.github.io/category/java.html ">Java</a>
          </li>
                    <li >
            <a href="http://zoeyyoung.github.io/category/linux.html ">Linux</a>
          </li>
                    <li >
            <a href="http://zoeyyoung.github.io/category/nlp.html ">NLP</a>
          </li>
                    <li >
            <a href="http://zoeyyoung.github.io/category/python.html ">Python</a>
          </li>
                    <li >
            <a href="http://zoeyyoung.github.io/category/ruby.html ">Ruby</a>
          </li>
                    <li >
            <a href="http://zoeyyoung.github.io/category/tips.html ">Tips</a>
          </li>
                    <li >
            <a href="http://zoeyyoung.github.io/category/qian-duan.html ">前端</a>
          </li>
                    <li >
            <a href="http://zoeyyoung.github.io/category/dong-nao.html ">动脑</a>
          </li>
                    <li >
            <a href="http://zoeyyoung.github.io/category/ji-chu.html ">基础</a>
          </li>
                    <li >
            <a href="http://zoeyyoung.github.io/category/gong-zuo-ji-lu.html ">工作记录</a>
          </li>
                    <li >
            <a href="http://zoeyyoung.github.io/category/wo-de-xiang-mu.html ">我的项目</a>
          </li>
                    <li >
            <a href="http://zoeyyoung.github.io/category/shou-cang.html ">收藏</a>
          </li>
                    <li >
            <a href="http://zoeyyoung.github.io/category/shu-ju-ku.html ">数据库</a>
          </li>
                    <li >
            <a href="http://zoeyyoung.github.io/category/suan-fa-shu-ju-jie-gou.html ">算法&数据结构</a>
          </li>
                    <li >
            <a href="http://zoeyyoung.github.io/category/she-ji-mo-shi.html ">设计模式</a>
          </li>
                    <li >
            <a href="http://zoeyyoung.github.io/category/du-shu.html ">读书</a>
          </li>
                    <li><hr/></li>
                    <li>PAGES<li>
          
                    <li>
            <a href="http://zoeyyoung.github.io/pages/about.html">关于</a>
          </li>
                    <li>
            <a href="http://zoeyyoung.github.io/pages/golden-slumber.html">Golden Slumber</a>
          </li>
                    <li>
            <a href="http://zoeyyoung.github.io/pages/neil-young.html">Neil Young</a>
          </li>
                    <li>
            <a href="http://zoeyyoung.github.io/pages/on-the-road.html">在路上</a>
          </li>
                    <li>
            <a href="http://zoeyyoung.github.io/pages/software.html">我使用的软件</a>
          </li>
                    <li>
            <a href="http://zoeyyoung.github.io/pages/translate.html">翻译</a>
          </li>
                            </ul>
      </div>
      <div class="main-content col-md-8">
          <article>
  <h1>[Java基础] Top 10 questions of Java Strings</h1>
  <div class="article-metadata">
<time class="published" datetime="2013 十月 06 周日">2013 十月 06 周日 </time>
<a class="url fn" href="http://zoeyyoung.github.io/author/zoey-young.html">Zoey Young </a>
<span>
    <i class="icon-folder-open"></i>
    <a href="http://zoeyyoung.github.io/category/java.html">Java</a>
</span>
<span>
    <i class="icon-tags"></i>
        <a href="http://zoeyyoung.github.io/tag/bi-shi.html">笔试</a>
        <a href="http://zoeyyoung.github.io/tag/mian-shi.html">面试</a>
        <a href="http://zoeyyoung.github.io/tag/java.html">Java</a>
        <a href="http://zoeyyoung.github.io/tag/ji-chu.html">基础</a>
        <a href="http://zoeyyoung.github.io/tag/bian-cheng.html">编程</a>
    </span>
<!-- <p></p> -->
</div>  <p>虽然直接看原文就可以了...不过适合挺常用的...因此收藏一下.</p>
<p><a href="http://www.programcreek.com/2013/09/top-10-faqs-of-java-strings/">原文</a></p>
<p>1、How to compare strings? Use <code>==</code> or use <code>equals()</code>?</p>
<p>In brief, <code>==</code> tests if references are equal and <code>equals()</code> tests if values are equal. Unless you want to check if two strings are the same object, you should always use equals().</p>
<p>【考虑是比较引用还是比较值】</p>
<p>It would be better if you know the concept of <a href="http://www.programcreek.com/2013/04/why-string-is-immutable-in-java/">string interning</a>.</p>
<p>另一个问题 —— <strong>Why string is immutable in Java ?</strong></p>
<ol>
<li>Requirement of String Pool</li>
<li>Allow String to Cache its Hashcode【保证相同字符串的Hashcode是一样的】</li>
<li>Security</li>
</ol>
<p>【<code>==</code>只是单纯比较是不是同一个对象, 而<code>equals()</code>才是比较对象的值. 因此有时需要为对象override <code>equals()</code>方法.】</p>
<p>2、Why is <code>char[]</code> preferred over String for security sensitive information?</p>
<p><a href="http://www.programcreek.com/2009/02/diagram-to-show-java-strings-immutability/">Strings are immutable</a>, which means once they are created, they will stay unchanged until Garbage Collector kicks in. With an array, you can explicitly change its elements. In this way, security sensitive information(e.g. password) will not be present anywhere in the system.</p>
<p>3、Can we use string for switch statement?</p>
<p>Yes to version 7. From <a href="http://openjdk.java.net/projects/jdk7/features/">JDK 7</a>, we can use string as switch condition. Before version 6, we can not use string as switch condition.</p>
<div class="highlight"><pre><span class="c1">// java 7 only!</span>
<span class="k">switch</span> <span class="o">(</span><span class="n">str</span><span class="o">.</span><span class="na">toLowerCase</span><span class="o">())</span> <span class="o">{</span>
    <span class="k">case</span> <span class="s">&quot;a&quot;</span><span class="o">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">break</span><span class="o">;</span>
    <span class="k">case</span> <span class="s">&quot;b&quot;</span><span class="o">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
        <span class="k">break</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>


<p>【一般情况是整型或能转成整型的...】</p>
<p>4、How to convert string to int?</p>
<div class="highlight"><pre><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="s">&quot;10&quot;</span><span class="o">);</span>
</pre></div>


<p>Simple, but so frequently used and sometimes ignored.【确实常用】</p>
<p>5、How to split a string with white space characters?</p>
<p>We can simple do split using regular expression. <code>\s</code> stands for white space characters such as " ", "\t", "\r", "\n".</p>
<div class="highlight"><pre><span class="n">String</span><span class="o">[]</span> <span class="n">strArray</span> <span class="o">=</span> <span class="n">aString</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">&quot;\\s+&quot;</span><span class="o">);</span>
</pre></div>


<p>6、What <code>substring()</code> method really does?【注意JDK6与JDK7实现上的区别】</p>
<p>In <strong>JDK 6</strong>, the <code>substring()</code> method gives a window to an array of chars which represents the existing String, but do not create a new one. To create a new string represented by a new char array, you can do add an empty string like the following:</p>
<div class="highlight"><pre><span class="n">str</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">m</span><span class="o">,</span> <span class="n">n</span><span class="o">)</span> <span class="o">+</span> <span class="s">&quot;&quot;</span>
</pre></div>


<p>This will create a new char array that represents the new string. The above approach sometimes can make your code faster, because Garbage Collector can collect the unused large string and keep only the sub string.</p>
<p>In Oracle <strong>JDK 7</strong>, <code>substring()</code> <strong>creates a new char array</strong>, not uses the existing one. Check out the diagram for showing <a href="http://www.programcreek.com/2013/09/the-substring-method-in-jdk-6-and-jdk-7/">substring() difference between JDK 6 and JDK 7</a>.</p>
<p>7、String vs StringBuilder vs StringBuffer</p>
<p>String vs StringBuilder: <strong>StringBuilder is mutable【可变的】</strong>, which means you can modify it after its creation.</p>
<p>StringBuilder vs StringBuffer: <strong>StringBuffer is synchronized【同步的】</strong>, which means it is thread-safe【线程安全】 but slower than StringBuilder.</p>
<p>【HashTable与HashMap的区别, HashTable是同步的, 线程安全的】</p>
<p>8、How to repeat a string?</p>
<p>In Python, we can just multiple a number to repeat a string【在Python中<code>"abcd"*3</code>】. In Java, we can use the <code>repeat()</code> method of StringUtils from Apache Commons Lang package.</p>
<div class="highlight"><pre><span class="n">String</span> <span class="n">str</span> <span class="o">=</span> <span class="s">&quot;abcd&quot;</span><span class="o">;</span>
<span class="n">String</span> <span class="n">repeated</span> <span class="o">=</span> <span class="n">StringUtils</span><span class="o">.</span><span class="na">repeat</span><span class="o">(</span><span class="n">str</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span>
<span class="c1">//abcdabcdabcd</span>
</pre></div>


<p>9、How to convert string to date?</p>
<div class="highlight"><pre><span class="n">String</span> <span class="n">str</span> <span class="o">=</span> <span class="s">&quot;Sep 17, 2013&quot;</span><span class="o">;</span>
<span class="n">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">&quot;MMMM d, yy&quot;</span><span class="o">,</span> <span class="n">Locale</span><span class="o">.</span><span class="na">ENGLISH</span><span class="o">).</span><span class="na">parse</span><span class="o">(</span><span class="n">str</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">date</span><span class="o">);</span>
<span class="c1">//Tue Sep 17 00:00:00 EDT 2013</span>
</pre></div>


<p>10、How to count # of occurrences of a character in a string?</p>
<p>Use StringUtils from apache commons lang.</p>
<div class="highlight"><pre><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">StringUtils</span><span class="o">.</span><span class="na">countMatches</span><span class="o">(</span><span class="s">&quot;11112222&quot;</span><span class="o">,</span> <span class="s">&quot;1&quot;</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">n</span><span class="o">);</span>
</pre></div>


<p>【Python中, <code>"11112222".count("1")</code>】</p>
<p>One more</p>
<p>Do you know <a href="http://www.programcreek.com/2011/04/a-method-to-detect-if-string-contains-1-uppercase-letter-in-java/">How to detect if a string contains only uppercase letter?</a>【这篇感觉没啥意义】</p>
<p>Use <code>java.lang.Character#isUpperCase()</code> and <code>#isLetter()</code> instead of the magic numbers.</p>
<p>【最优的一般是使用内置的方法】</p>
</article>
<div class="comment">
    <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
  <a href="http://www.jiathis.com/share?uid=1801890" class="jiathis jiathis_txt" target="_blank"><img src="http://v3.jiathis.com/code_mini/images/btn/v1/jiathis1.gif" border="0" /></a>
  <a class="jiathis_counter_style_margin:3px 0 0 2px"></a>
</div>
<script type="text/javascript">
var jiathis_config = {data_track_clickback:'true'};
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code_mini/jia.js?uid=1371447419774871" charset="utf-8"></script>
<!-- JiaThis Button END -->    <!-- UY BEGIN -->
<div id="uyan_frame"></div>
<script type="text/javascript" id="UYScript" src="http://v1.uyan.cc/js/iframe.js?UYUserId=1801890" async=""></script>
<!-- UY END --></div>
                </div>    </div><!-- End of fluid row-->
  </div><!-- End of Container-->
  <!--footer-->
  <footer id="footer" class="no-print">
    <div class="container">
      <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-2" id="socialist">
          <ul class="nav">
            <li>Social</li>
                                    <li><a href="http://weibo.com/1990zoey"><i class="icon-weibo icon-large"></i>新浪微博</a></li>
                        <li><a href="http://www.renren.com/230222157/profile"><i class="icon-renren icon-large"></i>人人网</a></li>
                        <li><a href="http://www.douban.com/people/ZoeyYoung/"><i class="icon-leaf icon-large"></i>豆瓣</a></li>
                                    <li><a href="mailto:ydingmiao@gmail.com">
              <i class="icon-envelope icon-large"></i>联系我
            </a></li>
                      </ul>
        </div>
                <div class="col-md-2">
          <ul class="nav">
            <li>Links</li>
                                    <li><a href="http://my.oschina.net/zoey1990">
              <i class="icon-heart icon-large"></i>OSC
            </a></li>
                        <li><a href="http://www.xiami.com/u/2092563">
              <i class="icon-music icon-large"></i>虾米
            </a></li>
                        <li><a href="https://gist.github.com/ZoeyYoung">
              <i class="icon-github icon-large"></i>GIST
            </a></li>
                        <li><a href="https://github.com/ZoeyYoung">
              <i class="icon-github icon-large"></i>GitHub
            </a></li>
                      </ul>
        </div>
        <div class="col-md-2" id="site-links">
          <ul class="nav">
            <li>Site</li>
            <li><a href="http://zoeyyoung.github.io">
              <i class="icon-home icon-large"></i>首页
            </a></li>
            <li><a href="http://zoeyyoung.github.io/archives.html">
              <i class="icon-list icon-large"></i>归档
            </a></li>
            <li><a href="http://zoeyyoung.github.io/tags.html">
              <i class="icon-tags icon-large"></i>标签
            </a></li>
                        <li><a href="http://zoeyyoung.github.io/" rel="alternate">
              <i class="icon-rss-sign icon-large"></i>Atom Feed
            </a></li>
          </ul>
        </div>
                <div class="sina-weibo col-md-4">
          <a href="http://weibo.com/u/1861922471?s=6uyXnP" target="_blank"><img border="0" src="http://service.t.sina.com.cn/widget/qmd/1861922471/c4ba5282/1.png"/></a>
        </div>
                <div class="col-md-1"></div>
      </div><!--end of fluid row-->
      <p style="text-align: center;">
          <a href="http://zoeyyoung.github.io">OK Computer</a>
          &copy; ZoeyYoung
          Powered by
          <a href="https://github.com/getpelican/pelican">Pelican</a>
          and
          <a href="https://twitter.github.com/bootstrap">Twitter Bootstrap</a>
          .
          Icons by
          <a href="http://gregoryloucas.github.io/Fontstrap/">Font Awesome</a>
          .Theme By <a href="http://zoeyyoung.gitcafe.com/">ZoeyYoung</a>
      </p>
    </div>
  </footer>
  <!--/footer-->
  <script src="http://zoeyyoung.github.io/theme/jquery.min.js"></script>
  <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
  <script>var _gaq=[['_setAccount','UA-41731595-1'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='http//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>
</body>
</html>